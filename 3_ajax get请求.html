<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>2_xhr的5种状态</title>
    <style>
        #content{
            width: 300px;
            height: 100px;
            border: 1px solid black;
            margin-top: 10px;
        }
    </style>
</head>
<body>
<h3>该页面是测试：ajax_get请求</h3>
<button id="btn">点我发送请求(原生js-ajax-get)</button>
<div id="content"></div>
<script type="text/javascript" >
    //获取按钮
    const btn = document.getElementById('btn')
    const content = document.getElementById('content')
    //给按钮绑定监听
    btn.onclick = ()=>{
        //1.创建xhr实例对象
        const xhr = new XMLHttpRequest()
        //2.绑定监听
        xhr.onreadystatechange = ()=>{
            if(xhr.readyState === 4 && (xhr.status >= 200 && xhr.status < 300)){
                console.log(xhr.response);
                content.innerHTML = `<h3>${xhr.response}</h3>`
            }
        }

        //2.指定发送请求的：method、url
        // xhr.open('GET','http://127.0.0.1:8080/test_get?name=老六&age=18')//携带query参数
        xhr.open('GET','http://127.0.0.1:8080/test_get2/老六/18')//携带params参数
        //3.发送请求
        xhr.send()
    }
</script>
</body>
</html>